---
name: git-commit-messages
description: Write well-formed git commit messages. Use when creating commits, reviewing commit messages, or when the user asks about commit message best practices. Enforces subject/body structure, 50/72 character limits, imperative mood, and proper formatting.
---

# Git Commit Messages

Guidelines for writing clear, consistent commit messages.

## Model Commit Message

```
Capitalized, short (50 chars or less) summary

More detailed explanatory text, if necessary. Wrap it to about 72
characters or so. In some contexts, the first line is treated as the
subject of an email and the rest of the text as the body. The blank
line separating the summary from the body is critical (unless you omit
the body entirely); tools like rebase can get confused if you run the
two together.

Write your commit message in the imperative: "Fix bug" and not "Fixed
bug" or "Fixes bug." This convention matches up with commit messages
generated by commands like git merge and git revert.

Further paragraphs come after blank lines.

- Bullet points are okay, too

- Typically a hyphen or asterisk is used for the bullet, followed by a
  single space, with blank lines in between, but conventions vary here

- Use a hanging indent
```

## Rules

### Subject Line

1. Capitalize the first letter
2. Keep to 50 characters or less (not a hard max, but aim for it)
3. Do not end with a period
4. Use imperative mood ("Add feature" not "Added feature" or "Adds feature")
5. Follow with a blank line if including a body

### Body (optional)

1. Wrap at 72 characters
2. Explain *what* and *why*, not *how*
3. Separate paragraphs with blank lines
4. Use bullet points with hyphens or asterisks, followed by a single space
5. Use hanging indent for multi-line bullets

## Why These Rules Matter

**50 char subject**: Used throughout git in truncated form:
- `git log --pretty=oneline`
- `git rebase --interactive`
- `git shortlog`
- GitHub UI
- Merge commit summaries

**72 char body wrap**: With `git log` default pager (`less -S`), 72 chars leaves room for 4-column indent on each side in an 80-column terminal. Also follows email netiquette for `git format-patch`.

**Imperative mood**: Matches messages generated by `git merge` and `git revert`. Think of it as completing the sentence: "If applied, this commit will *[your subject line]*"

## Examples

Good:
```
Add user authentication middleware

Implement JWT-based authentication for API routes. The middleware
validates tokens and attaches user context to requests.

- Support both header and cookie token sources
- Add 401 response for invalid/expired tokens
- Cache decoded tokens for performance
```

Bad:
```
added authentication. this commit adds jwt auth to the api routes and validates tokens from headers or cookies and caches them
```
