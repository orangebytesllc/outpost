<%# Renders a user avatar with fallback to initials %>
<%# Locals: user (required), size: "sm" | "md" | "lg" (default: "md") %>
<% size ||= "md" %>
<% size_classes = case size
   when "sm" then "w-8 h-8 text-xs"
   when "md" then "w-10 h-10 text-sm"
   when "lg" then "w-16 h-16 text-xl"
   else "w-8 h-8 text-xs"
   end %>

<div class="<%= size_classes %> bg-neutral-700 border border-neutral-600 flex-shrink-0 flex items-center justify-center text-neutral-400 overflow-hidden">
  <% if user.avatar.attached? %>
    <%= image_tag rails_storage_redirect_path(user.avatar), class: "w-full h-full object-cover" %>
  <% else %>
    <%= user.name.first.upcase %>
  <% end %>
</div>
